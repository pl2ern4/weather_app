(this.webpackJsonpwipro_app=this.webpackJsonpwipro_app||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=n(39),l=n(32),u=n(67),s=(n(91),n(33)),d="GET_CITY_RESPONSE",m="WEATHER_RESPONSE",h="LOADING",f={isLoading:!1,weatherDetail:[],cityList:[]},p=n(35),w=n(23),g=n(68),b=n(69),E=n(72),y=n(36),v=n(171),L=n(30),C=n(172),O=n(173),j=function(e){var t=r.a.useState(null),n=Object(L.a)(t,2),a=n[0],i=n[1];return r.a.createElement(O.a,{id:"free-solo-demo",freeSolo:!0,value:a,onChange:function(t,n){e.getWeather(n),i(n)},options:e.cityList&&e.cityList.map((function(e){return e.title})),renderInput:function(e){return r.a.createElement(C.a,Object.assign({},e,{label:"freeSolo",margin:"normal",variant:"outlined",fullWidth:!0}))}})},T=n(17),D=function(e){var t=e.weatherDetail&&e.weatherDetail.map((function(e){var t,n=Object(y.head)(e.weather);return{dt:(t=e.dt,new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).format(new Date(1e3*t))),img:n.icon,temperature:"".concat(e.main.temp_min,"/").concat(e.main.temp_max," \xb0C"),weather:"".concat(n.main,"(").concat(n.description,")"),humidity:e.main.humidity+"%",wind_speed:e.wind.speed+" mps",feels_like:e.main.temp}}));return r.a.createElement(T.BootstrapTable,{data:t},r.a.createElement(T.TableHeaderColumn,{row:"0",colSpan:"1",dataField:"dt",isKey:!0}),r.a.createElement(T.TableHeaderColumn,{row:"0",colSpan:"3"},"Conditions"),r.a.createElement(T.TableHeaderColumn,{row:"0",colSpan:"3"},"Comfort"),r.a.createElement(T.TableHeaderColumn,{row:"1",dataField:"dt"},"Day"),r.a.createElement(T.TableHeaderColumn,{row:"1",dataField:"img",dataFormat:function(e){return'<img src="https://openweathermap.org/img/w/'.concat(e,'.png" width="40" height="40"/>')}}),r.a.createElement(T.TableHeaderColumn,{row:"1",dataField:"temperature"},"Temperature"),r.a.createElement(T.TableHeaderColumn,{row:"1",dataField:"weather"},"Weather"),r.a.createElement(T.TableHeaderColumn,{row:"1",dataField:"feels_like"},"Feels Like"),r.a.createElement(T.TableHeaderColumn,{row:"1",dataField:"wind_speed"},"Wind"),r.a.createElement(T.TableHeaderColumn,{row:"1",dataField:"humidity"},"Humidity"))},W=function(e){return fetch(e).then((function(e){return e})).then((function(e){return e.json()}))},k=function(e){return function(e){e({type:h}),W("https://pl2ern4.github.io/weather-cities/").then((function(e){return new Promise((function(t,n){t(e.map((function(e){return{title:e.city.name,id:e.city.id.$numberLong}})))})).then((function(e){return e}))})).then((function(t){t&&e({type:d,cityList:t})}))}},F=function(e){return function(t){t({type:h}),function(e){var t="https://api.openweathermap.org/data/2.5/forecast?id=".concat(e&&e.id||"14256","&APPID=771d67e00059108e0fb1d280194d3bf2");return W(t).then((function(e){return e}))}(e).then((function(e){t({type:m,weatherDetail:e.list})}))}},H=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(g.a)(this,Object(b.a)(t).call(this,e))).getWeather=function(e){return n.props.getWeather(e)},e.getCityList(),n}return Object(E.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cityList,n=e.weatherDetail,a=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{cityList:t,getWeather:this.getWeather}),a&&r.a.createElement(v.a,null),!Object(y.isEmpty)(n)&&r.a.createElement(D,{weatherDetail:n})||null)}}]),t}(a.Component),_=Object(c.b)((function(e){return{isLoading:e.isLoading,cityList:e.cityList||[],weatherDetail:e.weatherDetail||[]}}),(function(e){return{getCityList:function(){return k()(e)},getWeather:function(t){return F(t)(e)}}}))(H),S=Object(l.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(s.a)({isLoading:!0},e);case d:return Object(s.a)({},e,{cityList:t.cityList,isLoading:!1});case m:return Object(s.a)({},e,{weatherDetail:t.weatherDetail,isLoading:!1});default:return Object(s.a)({},e)}}),Object(l.a)(u.a)),I=function(e){return r.a.createElement(c.a,{store:S},r.a.createElement(_,null))};n(133);o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="".concat("/weather_app","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))},82:function(e,t,n){e.exports=n(134)},91:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.a44169cc.chunk.js.map