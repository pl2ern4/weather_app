(this.webpackJsonpwipro_app=this.webpackJsonpwipro_app||[]).push([[0],{39:function(e,t,a){e.exports=a(51)},48:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),c=a.n(i),l=a(22),o=a(13),s=a(30),u=a(31),m=(a(48),a(9)),h=a(2),f="GET_CITY_RESPONSE",d="WEATHER_RESPONSE",p="LOADING",g={isLoading:!1,weatherDetail:[],cityList:[]},E=a(32),y=a(14),b=a(33),w=a(34),v=a(36),j=a(20),O=a(78),L=a(26),N=a(35),D=function(e){var t=Object(n.useState)(""),a=Object(L.a)(t,2),i=a[0],c=a[1],l=Object(n.useState)(e.cityList.length>0),o=Object(L.a)(l,2),s=o[0],u=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"inputText ".concat(s?"selection-option":""),onChange:function(t){return Object(N.a)(1e4,function(t){c(t.target.value),t.target.value&&(e.getCityList({city:t.target.value}),u(!0))}(t))},value:i,required:!0}),r.a.createElement("span",{className:"floating-label"},"Select City"),s&&r.a.createElement("ul",null,e.cityList.map((function(t){return r.a.createElement("li",{key:t.id,id:t.id,onClick:function(a){return function(t){c(t.title),u(!1),e.getWeather({id:t.id})}(Object(m.a)({},t))}},t.title)}))))},W=a(69),C=a(73),k=a(77),S=a(76),T=a(71),_=a(74),x=a(75),I=a(72),F=Object(W.a)({table:{minWidth:650,zIndex:0,position:"absolute"},mainHeader:{fontWeight:900},header:{fontWeight:800}}),H=function(e){var t=F();return r.a.createElement(T.a,{component:I.a},r.a.createElement(C.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(_.a,{className:t.header},r.a.createElement(x.a,null,r.a.createElement(S.a,{colSpan:"3",align:"left"}),r.a.createElement(S.a,{className:t.mainHeader,colSpan:"2",align:"left"},"Conditions"),r.a.createElement(S.a,{className:t.mainHeader,colSpan:"2",align:"left"},"Comfort"))),r.a.createElement(_.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,{className:t.header,align:"left"},"Date & Time"),r.a.createElement(S.a,{className:t.header,align:"left"}),r.a.createElement(S.a,{className:t.header,align:"left"},"Temperature"),r.a.createElement(S.a,{className:t.header,align:"left"},"Weather"),r.a.createElement(S.a,{className:t.header,align:"left"},"Humidity"),r.a.createElement(S.a,{className:t.header,align:"left"},"Wind Speed"),r.a.createElement(S.a,{className:t.header,align:"left"},"Feels like"))),r.a.createElement(k.a,null,e.weatherDetail.map((function(e){var t,a=Object(j.head)(e.weather);return r.a.createElement(x.a,{key:e.dt},r.a.createElement(S.a,{align:"left"},(t=e.dt,new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).format(new Date(1e3*t)))),r.a.createElement(S.a,{align:"left"},r.a.createElement("img",{alt:e.dt,src:"https://openweathermap.org/img/w/".concat(a.icon,".png"),width:"40",height:"40"})),r.a.createElement(S.a,{align:"left"},"".concat(e.main.temp_min,"/").concat(e.main.temp_max," \xb0C")),r.a.createElement(S.a,{align:"left"},"".concat(a.main," (").concat(a.description,")")),r.a.createElement(S.a,{align:"left"},"".concat(e.main.humidity,"%")),r.a.createElement(S.a,{align:"left"},"".concat(e.wind.speed,"mps")),r.a.createElement(S.a,{align:"left"},e.main.temp))})))))},P={"content-type":"application/json;charset=UTF-8"},A=function(e){return fetch(e,Object(m.a)({},P,{method:"GET"})).then((function(e){return e})).then((function(e){return e.json()}))},G=function(e){return function(t){(function(e){var t="https://city-list-for-weather.herokuapp.com/search?name=".concat(e&&e.city||"");return A(t).then((function(e){return new Promise((function(t,a){t(e.data.map((function(e){return{title:"".concat(e.name," ").concat(e.country),id:e.id}})))})).then((function(e){return e}))}))})(e).then((function(e){e&&t({type:f,cityList:e})}))}},R=function(e){return function(t){t({type:p,weatherDetail:[]}),function(e){var t="https://api.openweathermap.org/data/2.5/forecast?id=".concat(e&&e.id||"14256","&APPID=771d67e00059108e0fb1d280194d3bf2");return A(t).then((function(e){return e}))}(e).then((function(e){t({type:d,weatherDetail:e.list})}))}},J=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e))).getCityList=function(e){return a.props.getCityList(e)},a.getWeather=function(e){return a.props.getWeather(e)},a.state={isEmptyTextbox:""},a}return Object(v.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cityList,a=e.weatherDetail,n=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{cityList:t,getCityList:this.getCityList,getWeather:this.getWeather}),n&&r.a.createElement(O.a,null),!Object(j.isEmpty)(a)&&r.a.createElement(H,{weatherDetail:a})||null)}}]),t}(n.Component),q=Object(l.b)((function(e){return{isLoading:e.isLoading,cityList:e.cityList||[],weatherDetail:e.weatherDetail||[]}}),(function(e){return{getCityList:function(t){return G(t)(e)},getWeather:function(t){return R(t)(e)}}}))(J),z=Object(o.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:t.type;var a=Object(h.a)(t,["type"]);return Object(m.a)({},e,{isLoading:!0},a);case f:return Object(m.a)({},e,{cityList:t.cityList,isLoading:!1});case d:return Object(m.a)({},e,{weatherDetail:t.weatherDetail,isLoading:!1});default:return Object(m.a)({},e)}}),Object(u.composeWithDevTools)(Object(o.applyMiddleware)(s.a))),B=function(e){return r.a.createElement(l.a,{store:z},r.a.createElement(q,null))};a(50);c.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="".concat("/weather_app","/service-worker.js");navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}))}},[[39,1,2]]]);
//# sourceMappingURL=main.8b8a9b67.chunk.js.map